<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Hugo Documentation Site Deployment Automation# One-command deployment of secure Hugo documentation sites to AWS
This automation system creates a complete, production-ready documentation site with:
‚úÖ Hugo static site with hugo-book theme ‚úÖ AWS S3 storage (completely private) ‚úÖ CloudFront CDN with HTTPS ‚úÖ Lambda@Edge password protection + URL rewriting ‚úÖ GitHub repository with auto-deployment ‚úÖ ~60-90 second deployment pipeline Quick Start# 1. Prerequisites# # Install tools (macOS) brew install hugo awscli gh python3 # Configure AWS aws configure # Enter: Access Key ID, Secret Key, Region, Output format # Authenticate with GitHub gh auth login # Install Python dependencies pip3 install boto32. Deploy a New Docs Site# # Clone or download this template cd /path/to/hugo-docs-template # Run deployment script python3 deploy-hugo-docs.py \ --project-name my-awesome-project \ --username admin \ --password SuperSecret123!That‚Äôs it! The script will:
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="http://localhost:1313/documents/hugo-docs-template/readme/"><meta property="og:site_name" content="My Projects - Documentation Hub"><meta property="og:title" content="README"><meta property="og:description" content="Hugo Documentation Site Deployment Automation# One-command deployment of secure Hugo documentation sites to AWS
This automation system creates a complete, production-ready documentation site with:
‚úÖ Hugo static site with hugo-book theme ‚úÖ AWS S3 storage (completely private) ‚úÖ CloudFront CDN with HTTPS ‚úÖ Lambda@Edge password protection + URL rewriting ‚úÖ GitHub repository with auto-deployment ‚úÖ ~60-90 second deployment pipeline Quick Start# 1. Prerequisites# # Install tools (macOS) brew install hugo awscli gh python3 # Configure AWS aws configure # Enter: Access Key ID, Secret Key, Region, Output format # Authenticate with GitHub gh auth login # Install Python dependencies pip3 install boto32. Deploy a New Docs Site# # Clone or download this template cd /path/to/hugo-docs-template # Run deployment script python3 deploy-hugo-docs.py \ --project-name my-awesome-project \ --username admin \ --password SuperSecret123!That‚Äôs it! The script will:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="documents"><meta property="article:published_time" content="2026-01-03T10:55:17+00:00"><meta property="article:modified_time" content="2026-01-03T10:55:17+00:00"><meta itemprop=name content="README"><meta itemprop=description content="Hugo Documentation Site Deployment Automation# One-command deployment of secure Hugo documentation sites to AWS
This automation system creates a complete, production-ready documentation site with:
‚úÖ Hugo static site with hugo-book theme ‚úÖ AWS S3 storage (completely private) ‚úÖ CloudFront CDN with HTTPS ‚úÖ Lambda@Edge password protection + URL rewriting ‚úÖ GitHub repository with auto-deployment ‚úÖ ~60-90 second deployment pipeline Quick Start# 1. Prerequisites# # Install tools (macOS) brew install hugo awscli gh python3 # Configure AWS aws configure # Enter: Access Key ID, Secret Key, Region, Output format # Authenticate with GitHub gh auth login # Install Python dependencies pip3 install boto32. Deploy a New Docs Site# # Clone or download this template cd /path/to/hugo-docs-template # Run deployment script python3 deploy-hugo-docs.py \ --project-name my-awesome-project \ --username admin \ --password SuperSecret123!That‚Äôs it! The script will:"><meta itemprop=datePublished content="2026-01-03T10:55:17+00:00"><meta itemprop=dateModified content="2026-01-03T10:55:17+00:00"><meta itemprop=wordCount content="1220"><title>README | My Projects - Documentation Hub</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=http://localhost:1313/documents/hugo-docs-template/readme/><link rel=stylesheet href=/book.min.cc2c524ed250aac81b23d1f4af87344917b325208841feca0968fe450f570575.css integrity="sha256-zCxSTtJQqsgbI9H0r4c0SRezJSCIQf7KCWj+RQ9XBXU=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.da5a5af27f9bdea67bd6f07f3142824ec301e0c7f9d37c0fc61aefc961834a9e.js integrity="sha256-2lpa8n+b3qZ71vB/MUKCTsMB4Mf503wPxhrvyWGDSp4=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-documents"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>My Projects - Documentation Hub</span></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>README</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#hugo-documentation-site-deployment-automation>Hugo Documentation Site Deployment Automation</a><ul><li><a href=#quick-start>Quick Start</a><ul><li><a href=#1-prerequisites>1. Prerequisites</a></li><li><a href=#2-deploy-a-new-docs-site>2. Deploy a New Docs Site</a></li><li><a href=#3-access-your-site>3. Access Your Site</a></li></ul></li><li><a href=#what-gets-created>What Gets Created</a><ul><li><a href=#local-files>Local Files</a></li><li><a href=#aws-resources>AWS Resources</a></li><li><a href=#github-resources>GitHub Resources</a></li></ul></li><li><a href=#usage>Usage</a><ul><li><a href=#editing-content>Editing Content</a></li><li><a href=#adding-new-pages>Adding New Pages</a></li><li><a href=#changing-password>Changing Password</a></li></ul></li><li><a href=#command-reference>Command Reference</a><ul><li><a href=#full-deployment>Full Deployment</a></li><li><a href=#manual-steps-if-automation-fails>Manual Steps (If Automation Fails)</a></li></ul></li><li><a href=#architecture>Architecture</a><ul><li><a href=#security-model>Security Model</a></li><li><a href=#auto-deployment-pipeline>Auto-Deployment Pipeline</a></li></ul></li><li><a href=#customization>Customization</a><ul><li><a href=#changing-hugo-theme>Changing Hugo Theme</a></li><li><a href=#custom-domain-optional>Custom Domain (Optional)</a></li><li><a href=#enhanced-authentication>Enhanced Authentication</a></li></ul></li><li><a href=#cost-estimate>Cost Estimate</a><ul><li><a href=#typical-usage-20-gb-storage-100-gbmonth-transfer>Typical Usage (20 GB storage, 100 GB/month transfer)</a></li><li><a href=#free-tier-first-12-months>Free Tier (First 12 Months)</a></li><li><a href=#cost-optimization>Cost Optimization</a></li></ul></li><li><a href=#troubleshooting>Troubleshooting</a><ul><li><a href=#deployment-script-fails>Deployment Script Fails</a></li><li><a href=#site-not-accessible>Site Not Accessible</a></li><li><a href=#navigation-links-dont-work>Navigation Links Don&rsquo;t Work</a></li><li><a href=#password-not-working>Password Not Working</a></li><li><a href=#github-actions-failing>GitHub Actions Failing</a></li></ul></li><li><a href=#maintenance>Maintenance</a><ul><li><a href=#update-hugo>Update Hugo</a></li><li><a href=#update-theme>Update Theme</a></li><li><a href=#monitor-costs>Monitor Costs</a></li><li><a href=#backup-content>Backup Content</a></li></ul></li><li><a href=#reference-documentation>Reference Documentation</a></li><li><a href=#examples>Examples</a><ul><li><a href=#deploy-klm-business-plan-docs>Deploy KLM Business Plan Docs</a></li><li><a href=#deploy-technical-documentation>Deploy Technical Documentation</a></li><li><a href=#deploy-to-specific-aws-region>Deploy to Specific AWS Region</a></li></ul></li><li><a href=#support>Support</a></li><li><a href=#license>License</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=hugo-documentation-site-deployment-automation>Hugo Documentation Site Deployment Automation<a class=anchor href=#hugo-documentation-site-deployment-automation>#</a></h1><p><strong>One-command deployment of secure Hugo documentation sites to AWS</strong></p><p>This automation system creates a complete, production-ready documentation site with:</p><ul><li>‚úÖ Hugo static site with hugo-book theme</li><li>‚úÖ AWS S3 storage (completely private)</li><li>‚úÖ CloudFront CDN with HTTPS</li><li>‚úÖ Lambda@Edge password protection + URL rewriting</li><li>‚úÖ GitHub repository with auto-deployment</li><li>‚úÖ ~60-90 second deployment pipeline</li></ul><h2 id=quick-start>Quick Start<a class=anchor href=#quick-start>#</a></h2><h3 id=1-prerequisites>1. Prerequisites<a class=anchor href=#1-prerequisites>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Install tools (macOS)</span>
</span></span><span style=display:flex><span>brew install hugo awscli gh python3
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Configure AWS</span>
</span></span><span style=display:flex><span>aws configure
</span></span><span style=display:flex><span><span style=color:#75715e># Enter: Access Key ID, Secret Key, Region, Output format</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Authenticate with GitHub</span>
</span></span><span style=display:flex><span>gh auth login
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Install Python dependencies</span>
</span></span><span style=display:flex><span>pip3 install boto3</span></span></code></pre></div><h3 id=2-deploy-a-new-docs-site>2. Deploy a New Docs Site<a class=anchor href=#2-deploy-a-new-docs-site>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Clone or download this template</span>
</span></span><span style=display:flex><span>cd /path/to/hugo-docs-template
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Run deployment script</span>
</span></span><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name my-awesome-project <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username admin <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password SuperSecret123!</span></span></code></pre></div><p>That&rsquo;s it! The script will:</p><ol><li>Create Hugo site locally</li><li>Set up S3 bucket (initially public for testing)</li><li>Deploy site to S3</li><li>Create GitHub repository</li><li>Create CloudFront distribution with HTTPS</li><li>Create Lambda@Edge authentication function</li><li>Secure S3 bucket (make private)</li><li>Set up GitHub Actions auto-deployment</li><li>Commit and push everything</li></ol><p><strong>Total time</strong>: ~15-20 minutes (mostly waiting for CloudFront propagation)</p><h3 id=3-access-your-site>3. Access Your Site<a class=anchor href=#3-access-your-site>#</a></h3><p>After deployment completes:</p><pre tabindex=0><code>üåê URL: https://d1abc123xyz.cloudfront.net
üîê Username: admin
üîê Password: SuperSecret123!</code></pre><p>Visit the URL, enter credentials, and you&rsquo;re in!</p><h2 id=what-gets-created>What Gets Created<a class=anchor href=#what-gets-created>#</a></h2><h3 id=local-files>Local Files<a class=anchor href=#local-files>#</a></h3><pre tabindex=0><code>my-awesome-project/
‚îú‚îÄ‚îÄ .github/workflows/deploy.yml    # Auto-deployment workflow
‚îú‚îÄ‚îÄ content/
‚îÇ   ‚îú‚îÄ‚îÄ _index.md                   # Homepage
‚îÇ   ‚îú‚îÄ‚îÄ about/
‚îÇ   ‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ guides/
‚îÇ   ‚îî‚îÄ‚îÄ reference/
‚îú‚îÄ‚îÄ themes/hugo-book/               # Git submodule
‚îú‚îÄ‚îÄ hugo.toml                        # Hugo config with CloudFront URL
‚îú‚îÄ‚îÄ lambda-auth.js                   # Auth function (committed for reference)
‚îî‚îÄ‚îÄ lambda-auth.zip                  # Lambda deployment package</code></pre><h3 id=aws-resources>AWS Resources<a class=anchor href=#aws-resources>#</a></h3><ul><li><strong>S3 Bucket</strong>: <code>my-awesome-project-docs</code> (private, no public access)</li><li><strong>CloudFront Distribution</strong>: E1ABC123XYZ (HTTPS, global CDN)</li><li><strong>Lambda@Edge Function</strong>: <code>my-awesome-project-basic-auth:1</code></li><li><strong>IAM Role</strong>: <code>my-awesome-project-lambda-edge-role</code></li><li><strong>Origin Access Control</strong>: <code>my-awesome-project-oac</code></li></ul><h3 id=github-resources>GitHub Resources<a class=anchor href=#github-resources>#</a></h3><ul><li><strong>Repository</strong>: <code>github.com/your-username/my-awesome-project</code></li><li><strong>GitHub Secrets</strong>: AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_REGION</li><li><strong>Workflow</strong>: Auto-deploy on push to main branch</li></ul><h2 id=usage>Usage<a class=anchor href=#usage>#</a></h2><h3 id=editing-content>Editing Content<a class=anchor href=#editing-content>#</a></h3><h4 id=option-1-desktop-recommended-for-bulk-edits>Option 1: Desktop (Recommended for Bulk Edits)<a class=anchor href=#option-1-desktop-recommended-for-bulk-edits>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd my-awesome-project
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Edit content</span>
</span></span><span style=display:flex><span>vim content/docs/getting-started.md
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Test locally</span>
</span></span><span style=display:flex><span>hugo server -D
</span></span><span style=display:flex><span><span style=color:#75715e># Visit http://localhost:1313</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Commit and push (triggers auto-deployment)</span>
</span></span><span style=display:flex><span>git add .
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;Add getting started guide&#34;</span>
</span></span><span style=display:flex><span>git push</span></span></code></pre></div><h4 id=option-2-mobile-quick-edits>Option 2: Mobile (Quick Edits)<a class=anchor href=#option-2-mobile-quick-edits>#</a></h4><ol><li>Open GitHub mobile app</li><li>Navigate to your repository</li><li>Edit any markdown file</li><li>Commit directly to main branch</li><li>Wait ~60-90 seconds for auto-deployment</li></ol><h3 id=adding-new-pages>Adding New Pages<a class=anchor href=#adding-new-pages>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Create new page</span>
</span></span><span style=display:flex><span>hugo new docs/advanced-topics.md
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Edit the file</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ---</span>
</span></span><span style=display:flex><span><span style=color:#75715e># title: &#34;Advanced Topics&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ---</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># # Advanced Topics</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Content here...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Commit and push</span>
</span></span><span style=display:flex><span>git add .
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;Add advanced topics&#34;</span>
</span></span><span style=display:flex><span>git push</span></span></code></pre></div><h3 id=changing-password>Changing Password<a class=anchor href=#changing-password>#</a></h3><p>Edit <code>lambda-auth.js</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>authUser</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;new-username&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>authPass</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;new-password&#39;</span>;</span></span></code></pre></div><p>Update Lambda function:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Package</span>
</span></span><span style=display:flex><span>zip lambda-auth.zip lambda-auth.js
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Update</span>
</span></span><span style=display:flex><span>aws lambda update-function-code <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --function-name my-awesome-project-basic-auth <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --zip-file fileb://lambda-auth.zip
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Publish new version</span>
</span></span><span style=display:flex><span>aws lambda publish-version <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --function-name my-awesome-project-basic-auth
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Update CloudFront (use new version ARN)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># See COMPLETE-SETUP-GUIDE.md for details</span></span></span></code></pre></div><h2 id=command-reference>Command Reference<a class=anchor href=#command-reference>#</a></h2><h3 id=full-deployment>Full Deployment<a class=anchor href=#full-deployment>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name PROJECT_NAME <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username USERNAME <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password PASSWORD <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  <span style=color:#f92672>[</span>--region REGION<span style=color:#f92672>]</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  <span style=color:#f92672>[</span>--github-org ORGANIZATION<span style=color:#f92672>]</span></span></span></code></pre></div><p><strong>Parameters</strong>:</p><ul><li><code>--project-name</code>: Project name (e.g., <code>my-docs</code>). Creates bucket <code>my-docs-docs</code></li><li><code>--username</code>: Basic auth username</li><li><code>--password</code>: Basic auth password</li><li><code>--region</code>: AWS region (default: <code>us-east-1</code>)</li><li><code>--github-org</code>: GitHub organization (default: current user)</li></ul><p><strong>Example</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name klm-business-plan <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username klm <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password KLM2026Plan! <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --region us-east-1</span></span></code></pre></div><h3 id=manual-steps-if-automation-fails>Manual Steps (If Automation Fails)<a class=anchor href=#manual-steps-if-automation-fails>#</a></h3><p>See <code>COMPLETE-SETUP-GUIDE.md</code> for step-by-step manual instructions.</p><h2 id=architecture>Architecture<a class=anchor href=#architecture>#</a></h2><h3 id=security-model>Security Model<a class=anchor href=#security-model>#</a></h3><pre tabindex=0><code>User Request
    ‚Üì HTTPS
CloudFront Edge Location
    ‚Üì
Lambda@Edge (viewer-request)
    ‚îú‚îÄ Step 1: Rewrite URI (append index.html)
    ‚îî‚îÄ Step 2: Check Authentication (Basic Auth)
        ‚Üì (if authenticated)
CloudFront Cache
    ‚Üì
S3 Bucket (via OAC - private)
    ‚Üì
Response to User (HTTPS encrypted)</code></pre><p><strong>Security Features</strong>:</p><ul><li>‚úÖ HTTPS encryption via CloudFront SSL certificate</li><li>‚úÖ Password protection (basic HTTP auth)</li><li>‚úÖ Private S3 bucket (no direct access)</li><li>‚úÖ Origin Access Control (OAC) - only CloudFront can access S3</li><li>‚úÖ All S3 public access blocks enabled</li><li>‚úÖ Condition checks CloudFront distribution ARN</li></ul><h3 id=auto-deployment-pipeline>Auto-Deployment Pipeline<a class=anchor href=#auto-deployment-pipeline>#</a></h3><pre tabindex=0><code>Git Push to Main
    ‚Üì
GitHub Actions Triggered
    ‚Üì
1. Checkout code + submodules
2. Install Hugo (extended)
3. Build site (hugo --minify)
4. Configure AWS credentials
5. Sync to S3 (aws s3 sync)
6. Invalidate CloudFront cache
    ‚Üì
Site Updated (~60-90 seconds)</code></pre><h2 id=customization>Customization<a class=anchor href=#customization>#</a></h2><h3 id=changing-hugo-theme>Changing Hugo Theme<a class=anchor href=#changing-hugo-theme>#</a></h3><p>Edit <code>hugo.toml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#a6e22e>theme</span> = <span style=color:#e6db74>&#39;your-theme-name&#39;</span></span></span></code></pre></div><p>Add theme as submodule:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git submodule add https://github.com/user/theme themes/your-theme-name</span></span></code></pre></div><h3 id=custom-domain-optional>Custom Domain (Optional)<a class=anchor href=#custom-domain-optional>#</a></h3><ol><li>Register domain in Route 53</li><li>Request ACM certificate for domain</li><li>Update CloudFront distribution with custom domain and certificate</li><li>Update Route 53 with CloudFront alias record</li></ol><p>See AWS documentation for details.</p><h3 id=enhanced-authentication>Enhanced Authentication<a class=anchor href=#enhanced-authentication>#</a></h3><p>Replace basic auth with OAuth, SAML, or Cognito:</p><ul><li>Update Lambda@Edge function</li><li>Integrate with identity provider</li><li>Update CloudFront configuration</li></ul><h2 id=cost-estimate>Cost Estimate<a class=anchor href=#cost-estimate>#</a></h2><h3 id=typical-usage-20-gb-storage-100-gbmonth-transfer>Typical Usage (20 GB storage, 100 GB/month transfer)<a class=anchor href=#typical-usage-20-gb-storage-100-gbmonth-transfer>#</a></h3><ul><li>S3 Storage: $0.50</li><li>S3 Requests: $0.10</li><li>CloudFront Transfer: $8.50</li><li>CloudFront Requests: $0.10</li><li>Lambda@Edge: $0.50</li><li><strong>Total</strong>: ~$9.70/month</li></ul><h3 id=free-tier-first-12-months>Free Tier (First 12 Months)<a class=anchor href=#free-tier-first-12-months>#</a></h3><ul><li>S3: 5 GB storage, 20k GET, 2k PUT</li><li>CloudFront: 1 TB transfer, 10M requests</li><li>Lambda: 1M requests, 400k GB-seconds</li><li><strong>Potential Cost</strong>: $0-2/month with free tier</li></ul><h3 id=cost-optimization>Cost Optimization<a class=anchor href=#cost-optimization>#</a></h3><ul><li>Enable CloudFront caching (already configured)</li><li>Use S3 Intelligent-Tiering for large archives</li><li>Set up lifecycle policies for old content</li><li>Monitor with AWS Cost Explorer</li></ul><h2 id=troubleshooting>Troubleshooting<a class=anchor href=#troubleshooting>#</a></h2><h3 id=deployment-script-fails>Deployment Script Fails<a class=anchor href=#deployment-script-fails>#</a></h3><p><strong>Check Prerequisites</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Verify tools installed</span>
</span></span><span style=display:flex><span>hugo version
</span></span><span style=display:flex><span>aws --version
</span></span><span style=display:flex><span>gh --version
</span></span><span style=display:flex><span>python3 --version
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Verify AWS credentials</span>
</span></span><span style=display:flex><span>aws sts get-caller-identity
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Verify GitHub authentication</span>
</span></span><span style=display:flex><span>gh auth status</span></span></code></pre></div><p><strong>Common Issues</strong>:</p><ul><li><strong>AWS credentials</strong>: Run <code>aws configure</code></li><li><strong>GitHub not authenticated</strong>: Run <code>gh auth login</code></li><li><strong>Bucket name taken</strong>: Use a more unique project name</li><li><strong>IAM permissions</strong>: Ensure AWS user has permissions for S3, CloudFront, Lambda, IAM</li></ul><h3 id=site-not-accessible>Site Not Accessible<a class=anchor href=#site-not-accessible>#</a></h3><p><strong>Wait</strong>: CloudFront takes 5-15 minutes to deploy globally</p><p><strong>Verify</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Check distribution status</span>
</span></span><span style=display:flex><span>aws cloudfront get-distribution --id YOUR_DIST_ID --query <span style=color:#e6db74>&#39;Distribution.Status&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Should return: &#34;Deployed&#34;</span></span></span></code></pre></div><h3 id=navigation-links-dont-work>Navigation Links Don&rsquo;t Work<a class=anchor href=#navigation-links-dont-work>#</a></h3><p><strong>Cause</strong>: Lambda@Edge function not handling URL rewriting</p><p><strong>Check</strong>: Verify <code>lambda-auth.js</code> includes URL rewriting logic (Step 1 in the function)</p><h3 id=password-not-working>Password Not Working<a class=anchor href=#password-not-working>#</a></h3><p><strong>Verify</strong>:</p><ul><li>Correct username/password</li><li>Lambda function has latest code</li><li>CloudFront is using latest Lambda version</li></ul><p><strong>Update</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Check Lambda version in CloudFront</span>
</span></span><span style=display:flex><span>aws cloudfront get-distribution-config --id YOUR_DIST_ID <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --query <span style=color:#e6db74>&#39;DistributionConfig.DefaultCacheBehavior.LambdaFunctionAssociations&#39;</span></span></span></code></pre></div><h3 id=github-actions-failing>GitHub Actions Failing<a class=anchor href=#github-actions-failing>#</a></h3><p><strong>Check Secrets</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gh secret list
</span></span><span style=display:flex><span><span style=color:#75715e># Should show: AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_REGION</span></span></span></code></pre></div><p><strong>Check Workflow Logs</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gh run list
</span></span><span style=display:flex><span>gh run view</span></span></code></pre></div><h2 id=maintenance>Maintenance<a class=anchor href=#maintenance>#</a></h2><h3 id=update-hugo>Update Hugo<a class=anchor href=#update-hugo>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew upgrade hugo</span></span></code></pre></div><h3 id=update-theme>Update Theme<a class=anchor href=#update-theme>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd themes/hugo-book
</span></span><span style=display:flex><span>git pull origin main
</span></span><span style=display:flex><span>cd ../..
</span></span><span style=display:flex><span>git add themes/hugo-book
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;Update hugo-book theme&#34;</span>
</span></span><span style=display:flex><span>git push</span></span></code></pre></div><h3 id=monitor-costs>Monitor Costs<a class=anchor href=#monitor-costs>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># View current month costs</span>
</span></span><span style=display:flex><span>aws ce get-cost-and-usage <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --time-period Start<span style=color:#f92672>=</span>2026-01-01,End<span style=color:#f92672>=</span>2026-01-31 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --granularity MONTHLY <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --metrics BlendedCost</span></span></code></pre></div><h3 id=backup-content>Backup Content<a class=anchor href=#backup-content>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Content is in git, but also backup S3</span>
</span></span><span style=display:flex><span>aws s3 sync s3://my-awesome-project-docs backups/</span></span></code></pre></div><h2 id=reference-documentation>Reference Documentation<a class=anchor href=#reference-documentation>#</a></h2><ul><li><strong>Complete Setup Guide</strong>: <code>COMPLETE-SETUP-GUIDE.md</code> - Step-by-step manual process</li><li><strong>Hugo Documentation</strong>: <a href=https://gohugo.io/documentation/>https://gohugo.io/documentation/</a></li><li><strong>Hugo Book Theme</strong>: <a href=https://github.com/alex-shpak/hugo-book>https://github.com/alex-shpak/hugo-book</a></li><li><strong>AWS S3</strong>: <a href=https://docs.aws.amazon.com/s3/>https://docs.aws.amazon.com/s3/</a></li><li><strong>CloudFront</strong>: <a href=https://docs.aws.amazon.com/cloudfront/>https://docs.aws.amazon.com/cloudfront/</a></li><li><strong>Lambda@Edge</strong>: <a href=https://docs.aws.amazon.com/lambda/latest/dg/lambda-edge.html>https://docs.aws.amazon.com/lambda/latest/dg/lambda-edge.html</a></li></ul><h2 id=examples>Examples<a class=anchor href=#examples>#</a></h2><h3 id=deploy-klm-business-plan-docs>Deploy KLM Business Plan Docs<a class=anchor href=#deploy-klm-business-plan-docs>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name klm-business-plan <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username klm <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password KLM2026Secure!</span></span></code></pre></div><h3 id=deploy-technical-documentation>Deploy Technical Documentation<a class=anchor href=#deploy-technical-documentation>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name api-docs <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username developer <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password DevPass123!</span></span></code></pre></div><h3 id=deploy-to-specific-aws-region>Deploy to Specific AWS Region<a class=anchor href=#deploy-to-specific-aws-region>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name eu-docs <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username admin <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password SecureEU2026! <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --region eu-west-1</span></span></code></pre></div><h2 id=support>Support<a class=anchor href=#support>#</a></h2><p>For issues, questions, or improvements:</p><ol><li>Check <code>COMPLETE-SETUP-GUIDE.md</code> for detailed manual steps</li><li>Review troubleshooting section above</li><li>Check AWS CloudWatch logs for Lambda errors</li><li>Verify CloudFront distribution status</li></ol><h2 id=license>License<a class=anchor href=#license>#</a></h2><p>This automation system is provided as-is for creating secure Hugo documentation sites.</p><hr><p><strong>Created</strong>: 2026-01-03
<strong>Purpose</strong>: One-command deployment of secure Hugo docs sites to AWS
<strong>Automation</strong>: Python script + AWS SDK (boto3) + GitHub CLI</p><p><strong>Features</strong>:</p><ul><li>‚úÖ Complete automation (Hugo ‚Üí S3 ‚Üí CloudFront ‚Üí Lambda@Edge ‚Üí GitHub)</li><li>‚úÖ Secure by default (HTTPS, auth, private S3)</li><li>‚úÖ Auto-deployment pipeline (GitHub Actions)</li><li>‚úÖ Mobile-friendly editing (GitHub mobile app)</li><li>‚úÖ Production-ready architecture</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#hugo-documentation-site-deployment-automation>Hugo Documentation Site Deployment Automation</a><ul><li><a href=#quick-start>Quick Start</a><ul><li><a href=#1-prerequisites>1. Prerequisites</a></li><li><a href=#2-deploy-a-new-docs-site>2. Deploy a New Docs Site</a></li><li><a href=#3-access-your-site>3. Access Your Site</a></li></ul></li><li><a href=#what-gets-created>What Gets Created</a><ul><li><a href=#local-files>Local Files</a></li><li><a href=#aws-resources>AWS Resources</a></li><li><a href=#github-resources>GitHub Resources</a></li></ul></li><li><a href=#usage>Usage</a><ul><li><a href=#editing-content>Editing Content</a></li><li><a href=#adding-new-pages>Adding New Pages</a></li><li><a href=#changing-password>Changing Password</a></li></ul></li><li><a href=#command-reference>Command Reference</a><ul><li><a href=#full-deployment>Full Deployment</a></li><li><a href=#manual-steps-if-automation-fails>Manual Steps (If Automation Fails)</a></li></ul></li><li><a href=#architecture>Architecture</a><ul><li><a href=#security-model>Security Model</a></li><li><a href=#auto-deployment-pipeline>Auto-Deployment Pipeline</a></li></ul></li><li><a href=#customization>Customization</a><ul><li><a href=#changing-hugo-theme>Changing Hugo Theme</a></li><li><a href=#custom-domain-optional>Custom Domain (Optional)</a></li><li><a href=#enhanced-authentication>Enhanced Authentication</a></li></ul></li><li><a href=#cost-estimate>Cost Estimate</a><ul><li><a href=#typical-usage-20-gb-storage-100-gbmonth-transfer>Typical Usage (20 GB storage, 100 GB/month transfer)</a></li><li><a href=#free-tier-first-12-months>Free Tier (First 12 Months)</a></li><li><a href=#cost-optimization>Cost Optimization</a></li></ul></li><li><a href=#troubleshooting>Troubleshooting</a><ul><li><a href=#deployment-script-fails>Deployment Script Fails</a></li><li><a href=#site-not-accessible>Site Not Accessible</a></li><li><a href=#navigation-links-dont-work>Navigation Links Don&rsquo;t Work</a></li><li><a href=#password-not-working>Password Not Working</a></li><li><a href=#github-actions-failing>GitHub Actions Failing</a></li></ul></li><li><a href=#maintenance>Maintenance</a><ul><li><a href=#update-hugo>Update Hugo</a></li><li><a href=#update-theme>Update Theme</a></li><li><a href=#monitor-costs>Monitor Costs</a></li><li><a href=#backup-content>Backup Content</a></li></ul></li><li><a href=#reference-documentation>Reference Documentation</a></li><li><a href=#examples>Examples</a><ul><li><a href=#deploy-klm-business-plan-docs>Deploy KLM Business Plan Docs</a></li><li><a href=#deploy-technical-documentation>Deploy Technical Documentation</a></li><li><a href=#deploy-to-specific-aws-region>Deploy to Specific AWS Region</a></li></ul></li><li><a href=#support>Support</a></li><li><a href=#license>License</a></li></ul></li></ul></nav></div></aside></main></body></html>