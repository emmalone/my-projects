<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Hugo Documentation Site Automation System# Overview# We’ve created a complete automation system for deploying secure Hugo documentation sites to AWS with a single command. This system was built based on the klm-plan setup process and can be used for all future documentation projects.
Location# Template Directory: /Users/mark/PycharmProjects/hugo-docs-template/
Contents:
deploy-hugo-docs.py - Complete automation script README.md - Full documentation and usage guide USAGE-EXAMPLES.md - Real-world examples COMPLETE-SETUP-GUIDE.md - Step-by-step manual process (reference) Quick Start# Deploy a New Documentation Site# cd /Users/mark/PycharmProjects/hugo-docs-template python3 deploy-hugo-docs.py \ --project-name my-new-project \ --username admin \ --password SecurePass123!That’s it! In 15-20 minutes you’ll have:
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="http://localhost:1313/documents/klm-plan/hugo-automation-system/"><meta property="og:site_name" content="My Projects - Documentation Hub"><meta property="og:title" content="HUGO-AUTOMATION-SYSTEM"><meta property="og:description" content="Hugo Documentation Site Automation System# Overview# We’ve created a complete automation system for deploying secure Hugo documentation sites to AWS with a single command. This system was built based on the klm-plan setup process and can be used for all future documentation projects.
Location# Template Directory: /Users/mark/PycharmProjects/hugo-docs-template/
Contents:
deploy-hugo-docs.py - Complete automation script README.md - Full documentation and usage guide USAGE-EXAMPLES.md - Real-world examples COMPLETE-SETUP-GUIDE.md - Step-by-step manual process (reference) Quick Start# Deploy a New Documentation Site# cd /Users/mark/PycharmProjects/hugo-docs-template python3 deploy-hugo-docs.py \ --project-name my-new-project \ --username admin \ --password SecurePass123!That’s it! In 15-20 minutes you’ll have:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="documents"><meta property="article:published_time" content="2026-01-03T10:57:24+00:00"><meta property="article:modified_time" content="2026-01-03T10:57:24+00:00"><meta itemprop=name content="HUGO-AUTOMATION-SYSTEM"><meta itemprop=description content="Hugo Documentation Site Automation System# Overview# We’ve created a complete automation system for deploying secure Hugo documentation sites to AWS with a single command. This system was built based on the klm-plan setup process and can be used for all future documentation projects.
Location# Template Directory: /Users/mark/PycharmProjects/hugo-docs-template/
Contents:
deploy-hugo-docs.py - Complete automation script README.md - Full documentation and usage guide USAGE-EXAMPLES.md - Real-world examples COMPLETE-SETUP-GUIDE.md - Step-by-step manual process (reference) Quick Start# Deploy a New Documentation Site# cd /Users/mark/PycharmProjects/hugo-docs-template python3 deploy-hugo-docs.py \ --project-name my-new-project \ --username admin \ --password SecurePass123!That’s it! In 15-20 minutes you’ll have:"><meta itemprop=datePublished content="2026-01-03T10:57:24+00:00"><meta itemprop=dateModified content="2026-01-03T10:57:24+00:00"><meta itemprop=wordCount content="1100"><title>HUGO-AUTOMATION-SYSTEM | My Projects - Documentation Hub</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=http://localhost:1313/documents/klm-plan/hugo-automation-system/><link rel=stylesheet href=/book.min.cc2c524ed250aac81b23d1f4af87344917b325208841feca0968fe450f570575.css integrity="sha256-zCxSTtJQqsgbI9H0r4c0SRezJSCIQf7KCWj+RQ9XBXU=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.da5a5af27f9bdea67bd6f07f3142824ec301e0c7f9d37c0fc61aefc961834a9e.js integrity="sha256-2lpa8n+b3qZ71vB/MUKCTsMB4Mf503wPxhrvyWGDSp4=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-documents"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>My Projects - Documentation Hub</span></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>HUGO-AUTOMATION-SYSTEM</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#hugo-documentation-site-automation-system>Hugo Documentation Site Automation System</a><ul><li><a href=#overview>Overview</a></li><li><a href=#location>Location</a></li><li><a href=#quick-start>Quick Start</a><ul><li><a href=#deploy-a-new-documentation-site>Deploy a New Documentation Site</a></li></ul></li><li><a href=#what-it-does>What It Does</a><ul><li><a href=#phase-1-local-hugo-site>Phase 1: Local Hugo Site</a></li><li><a href=#phase-2-s3-bucket-setup>Phase 2: S3 Bucket Setup</a></li><li><a href=#phase-3-github-repository>Phase 3: GitHub Repository</a></li><li><a href=#phase-4-cloudfront-with-https>Phase 4: CloudFront with HTTPS</a></li><li><a href=#phase-5-lambdaedge-authentication>Phase 5: Lambda@Edge Authentication</a></li><li><a href=#phase-6-secure-s3-bucket>Phase 6: Secure S3 Bucket</a></li><li><a href=#phase-7-github-actions-workflow>Phase 7: GitHub Actions Workflow</a></li><li><a href=#phase-8-final-commit>Phase 8: Final Commit</a></li></ul></li><li><a href=#command-reference>Command Reference</a><ul><li><a href=#basic-deployment>Basic Deployment</a></li><li><a href=#with-custom-region>With Custom Region</a></li><li><a href=#with-github-organization>With GitHub Organization</a></li></ul></li><li><a href=#examples>Examples</a><ul><li><a href=#example-1-deploy-product-documentation>Example 1: Deploy Product Documentation</a></li><li><a href=#example-2-deploy-api-documentation>Example 2: Deploy API Documentation</a></li><li><a href=#example-3-deploy-marketing-wiki>Example 3: Deploy Marketing Wiki</a></li></ul></li><li><a href=#comparison-manual-vs-automated>Comparison: Manual vs Automated</a><ul><li><a href=#manual-process-what-we-did-for-klm-plan>Manual Process (What We Did for klm-plan)</a></li><li><a href=#automated-process-using-deploy-hugo-docspy>Automated Process (Using deploy-hugo-docs.py)</a></li></ul></li><li><a href=#architecture-created>Architecture Created</a></li><li><a href=#what-gets-created>What Gets Created</a><ul><li><a href=#aws-resources>AWS Resources</a></li><li><a href=#github-resources>GitHub Resources</a></li><li><a href=#local-files>Local Files</a></li></ul></li><li><a href=#cost-per-site>Cost per Site</a><ul><li><a href=#typical-usage-small-documentation-site>Typical Usage (Small Documentation Site)</a></li><li><a href=#free-tier-benefits-first-12-months>Free Tier Benefits (First 12 Months)</a></li></ul></li><li><a href=#prerequisites>Prerequisites</a><ul><li><a href=#required-tools>Required Tools</a></li><li><a href=#configuration>Configuration</a></li><li><a href=#aws-permissions-required>AWS Permissions Required</a></li></ul></li><li><a href=#maintenance>Maintenance</a><ul><li><a href=#update-hugo-site-content>Update Hugo Site Content</a></li><li><a href=#change-password>Change Password</a></li><li><a href=#update-hugo-theme>Update Hugo Theme</a></li></ul></li><li><a href=#use-cases>Use Cases</a><ul><li><a href=#1-product-documentation>1. Product Documentation</a></li><li><a href=#2-api-documentation>2. API Documentation</a></li><li><a href=#3-business-planning>3. Business Planning</a></li><li><a href=#4-engineering-wikis>4. Engineering Wikis</a></li><li><a href=#5-marketing-content>5. Marketing Content</a></li></ul></li><li><a href=#extending-the-automation>Extending the Automation</a></li><li><a href=#reference-documentation>Reference Documentation</a></li><li><a href=#summary>Summary</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=hugo-documentation-site-automation-system>Hugo Documentation Site Automation System<a class=anchor href=#hugo-documentation-site-automation-system>#</a></h1><h2 id=overview>Overview<a class=anchor href=#overview>#</a></h2><p>We&rsquo;ve created a <strong>complete automation system</strong> for deploying secure Hugo documentation sites to AWS with a single command. This system was built based on the klm-plan setup process and can be used for all future documentation projects.</p><h2 id=location>Location<a class=anchor href=#location>#</a></h2><p><strong>Template Directory</strong>: <code>/Users/mark/PycharmProjects/hugo-docs-template/</code></p><p><strong>Contents</strong>:</p><ul><li><code>deploy-hugo-docs.py</code> - Complete automation script</li><li><code>README.md</code> - Full documentation and usage guide</li><li><code>USAGE-EXAMPLES.md</code> - Real-world examples</li><li><code>COMPLETE-SETUP-GUIDE.md</code> - Step-by-step manual process (reference)</li></ul><h2 id=quick-start>Quick Start<a class=anchor href=#quick-start>#</a></h2><h3 id=deploy-a-new-documentation-site>Deploy a New Documentation Site<a class=anchor href=#deploy-a-new-documentation-site>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /Users/mark/PycharmProjects/hugo-docs-template
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name my-new-project <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username admin <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password SecurePass123!</span></span></code></pre></div><p><strong>That&rsquo;s it!</strong> In 15-20 minutes you&rsquo;ll have:</p><ul><li>✅ Hugo site with hugo-book theme</li><li>✅ Secure HTTPS hosting via CloudFront</li><li>✅ Password-protected access</li><li>✅ Private S3 bucket (no public access)</li><li>✅ GitHub repository with auto-deployment</li><li>✅ ~60-second deployment pipeline</li></ul><h2 id=what-it-does>What It Does<a class=anchor href=#what-it-does>#</a></h2><p>The automation script executes the <strong>complete 8-phase deployment</strong> we followed for klm-plan:</p><h3 id=phase-1-local-hugo-site>Phase 1: Local Hugo Site<a class=anchor href=#phase-1-local-hugo-site>#</a></h3><ul><li>Creates Hugo site structure</li><li>Installs hugo-book theme as submodule</li><li>Configures hugo.toml</li><li>Creates initial content structure</li></ul><h3 id=phase-2-s3-bucket-setup>Phase 2: S3 Bucket Setup<a class=anchor href=#phase-2-s3-bucket-setup>#</a></h3><ul><li>Creates S3 bucket (project-name-docs)</li><li>Enables static website hosting (initially)</li><li>Makes bucket public (temporarily for testing)</li><li>Builds and deploys Hugo site</li></ul><h3 id=phase-3-github-repository>Phase 3: GitHub Repository<a class=anchor href=#phase-3-github-repository>#</a></h3><ul><li>Creates GitHub repository</li><li>Configures AWS secrets (credentials, region)</li><li>Initial commit and push</li></ul><h3 id=phase-4-cloudfront-with-https>Phase 4: CloudFront with HTTPS<a class=anchor href=#phase-4-cloudfront-with-https>#</a></h3><ul><li>Creates CloudFront distribution</li><li>Configures HTTPS redirect</li><li>Enables compression and caching</li><li>Waits for deployment (5-10 minutes)</li><li>Updates Hugo baseURL with CloudFront domain</li></ul><h3 id=phase-5-lambdaedge-authentication>Phase 5: Lambda@Edge Authentication<a class=anchor href=#phase-5-lambdaedge-authentication>#</a></h3><ul><li>Creates IAM role for Lambda@Edge</li><li>Creates Lambda function with:<ul><li>Password authentication (basic HTTP auth)</li><li>URL rewriting (appends index.html for navigation)</li></ul></li><li>Publishes Lambda version</li><li>Attaches to CloudFront distribution</li></ul><h3 id=phase-6-secure-s3-bucket>Phase 6: Secure S3 Bucket<a class=anchor href=#phase-6-secure-s3-bucket>#</a></h3><ul><li>Creates Origin Access Control (OAC)</li><li>Updates CloudFront to use S3 bucket origin (not website)</li><li>Disables S3 website hosting</li><li>Removes public bucket policy</li><li>Enables all public access blocks</li><li>Creates CloudFront-only bucket policy</li></ul><h3 id=phase-7-github-actions-workflow>Phase 7: GitHub Actions Workflow<a class=anchor href=#phase-7-github-actions-workflow>#</a></h3><ul><li>Creates <code>.github/workflows/deploy.yml</code></li><li>Configures auto-deployment on push to main</li><li>Sets up CloudFront cache invalidation</li></ul><h3 id=phase-8-final-commit>Phase 8: Final Commit<a class=anchor href=#phase-8-final-commit>#</a></h3><ul><li>Commits all files to repository</li><li>Pushes to GitHub</li><li>Prints deployment summary</li></ul><h2 id=command-reference>Command Reference<a class=anchor href=#command-reference>#</a></h2><h3 id=basic-deployment>Basic Deployment<a class=anchor href=#basic-deployment>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name PROJECT_NAME <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username USERNAME <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password PASSWORD</span></span></code></pre></div><h3 id=with-custom-region>With Custom Region<a class=anchor href=#with-custom-region>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name PROJECT_NAME <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username USERNAME <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password PASSWORD <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --region eu-west-1</span></span></code></pre></div><h3 id=with-github-organization>With GitHub Organization<a class=anchor href=#with-github-organization>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name PROJECT_NAME <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username USERNAME <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password PASSWORD <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --github-org your-organization</span></span></code></pre></div><h2 id=examples>Examples<a class=anchor href=#examples>#</a></h2><h3 id=example-1-deploy-product-documentation>Example 1: Deploy Product Documentation<a class=anchor href=#example-1-deploy-product-documentation>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name life-legacy-platform <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username product <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password ProductDocs2026!</span></span></code></pre></div><p><strong>Result</strong>:</p><ul><li>URL: <a href=https://d1abc123xyz.cloudfront.net>https://d1abc123xyz.cloudfront.net</a></li><li>S3: life-legacy-platform-docs</li><li>GitHub: github.com/your-username/life-legacy-platform</li></ul><h3 id=example-2-deploy-api-documentation>Example 2: Deploy API Documentation<a class=anchor href=#example-2-deploy-api-documentation>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name api-documentation <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username developer <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password DevApiDocs2026!</span></span></code></pre></div><h3 id=example-3-deploy-marketing-wiki>Example 3: Deploy Marketing Wiki<a class=anchor href=#example-3-deploy-marketing-wiki>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 deploy-hugo-docs.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --project-name marketing-wiki <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --username marketing <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --password MarketingWiki2026!</span></span></code></pre></div><h2 id=comparison-manual-vs-automated>Comparison: Manual vs Automated<a class=anchor href=#comparison-manual-vs-automated>#</a></h2><h3 id=manual-process-what-we-did-for-klm-plan>Manual Process (What We Did for klm-plan)<a class=anchor href=#manual-process-what-we-did-for-klm-plan>#</a></h3><ul><li><strong>Time</strong>: 2-3 hours</li><li><strong>Steps</strong>: 50+ commands across 8 phases</li><li><strong>Files</strong>: 10+ configuration files to create/edit</li><li><strong>Complexity</strong>: High (AWS, Lambda, CloudFront, IAM)</li><li><strong>Error-prone</strong>: Easy to miss steps or misconfigure</li></ul><h3 id=automated-process-using-deploy-hugo-docspy>Automated Process (Using deploy-hugo-docs.py)<a class=anchor href=#automated-process-using-deploy-hugo-docspy>#</a></h3><ul><li><strong>Time</strong>: 15-20 minutes (mostly CloudFront propagation)</li><li><strong>Steps</strong>: 1 command</li><li><strong>Files</strong>: Automatically created</li><li><strong>Complexity</strong>: Low (hidden in script)</li><li><strong>Error-prone</strong>: Minimal (script handles all details)</li></ul><h2 id=architecture-created>Architecture Created<a class=anchor href=#architecture-created>#</a></h2><pre tabindex=0><code>User Browser
    ↓ HTTPS
CloudFront Edge (Global CDN)
    ↓
Lambda@Edge (viewer-request)
    ├─ Rewrite URL (append /index.html)
    └─ Check Password (Basic Auth)
        ↓ (authenticated)
CloudFront Cache
    ↓ (via OAC)
S3 Bucket (Private)
    └─ Hugo Static Site</code></pre><p><strong>Security Layers</strong>:</p><ol><li>HTTPS encryption (CloudFront SSL)</li><li>Password authentication (Lambda@Edge)</li><li>Private S3 bucket (OAC only)</li><li>Public access blocks (all 4 enabled)</li></ol><h2 id=what-gets-created>What Gets Created<a class=anchor href=#what-gets-created>#</a></h2><h3 id=aws-resources>AWS Resources<a class=anchor href=#aws-resources>#</a></h3><ul><li><strong>S3 Bucket</strong>: <code>{project-name}-docs</code> (private, us-east-1 or specified region)</li><li><strong>CloudFront Distribution</strong>: Global CDN with HTTPS</li><li><strong>Lambda@Edge Function</strong>: <code>{project-name}-basic-auth:1</code></li><li><strong>IAM Role</strong>: <code>{project-name}-lambda-edge-role</code></li><li><strong>Origin Access Control</strong>: <code>{project-name}-oac</code></li></ul><h3 id=github-resources>GitHub Resources<a class=anchor href=#github-resources>#</a></h3><ul><li><strong>Repository</strong>: <code>github.com/{user}/{project-name}</code></li><li><strong>Secrets</strong>: AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_REGION</li><li><strong>Workflow</strong>: <code>.github/workflows/deploy.yml</code></li></ul><h3 id=local-files>Local Files<a class=anchor href=#local-files>#</a></h3><pre tabindex=0><code>{project-name}/
├── .github/workflows/deploy.yml
├── content/
│   ├── _index.md
│   ├── about/_index.md
│   ├── docs/_index.md
│   ├── guides/_index.md
│   └── reference/_index.md
├── themes/hugo-book/
├── hugo.toml
├── lambda-auth.js
└── lambda-auth.zip</code></pre><h2 id=cost-per-site>Cost per Site<a class=anchor href=#cost-per-site>#</a></h2><h3 id=typical-usage-small-documentation-site>Typical Usage (Small Documentation Site)<a class=anchor href=#typical-usage-small-documentation-site>#</a></h3><ul><li>S3 Storage (5 GB): $0.12/month</li><li>S3 Requests: $0.05/month</li><li>CloudFront Transfer (20 GB): $1.70/month</li><li>CloudFront Requests (100k): $0.10/month</li><li>Lambda@Edge (100k invocations): $0.20/month</li><li><strong>Total</strong>: ~$2.17/month per site</li></ul><h3 id=free-tier-benefits-first-12-months>Free Tier Benefits (First 12 Months)<a class=anchor href=#free-tier-benefits-first-12-months>#</a></h3><ul><li>S3: 5 GB storage free</li><li>CloudFront: 1 TB transfer free</li><li>Lambda: 1M requests free</li><li><strong>Potential</strong>: $0-0.50/month with free tier</li></ul><h2 id=prerequisites>Prerequisites<a class=anchor href=#prerequisites>#</a></h2><h3 id=required-tools>Required Tools<a class=anchor href=#required-tools>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Install (macOS)</span>
</span></span><span style=display:flex><span>brew install hugo awscli gh python3
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Verify</span>
</span></span><span style=display:flex><span>hugo version        <span style=color:#75715e># v0.1xx.x or higher</span>
</span></span><span style=display:flex><span>aws --version       <span style=color:#75715e># aws-cli/2.x</span>
</span></span><span style=display:flex><span>gh --version        <span style=color:#75715e># gh version 2.x</span>
</span></span><span style=display:flex><span>python3 --version   <span style=color:#75715e># Python 3.7+</span></span></span></code></pre></div><h3 id=configuration>Configuration<a class=anchor href=#configuration>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># AWS credentials</span>
</span></span><span style=display:flex><span>aws configure
</span></span><span style=display:flex><span><span style=color:#75715e># Enter: Access Key, Secret Key, Region (us-east-1), Output (json)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># GitHub authentication</span>
</span></span><span style=display:flex><span>gh auth login
</span></span><span style=display:flex><span><span style=color:#75715e># Follow prompts</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Python dependencies</span>
</span></span><span style=display:flex><span>pip3 install boto3</span></span></code></pre></div><h3 id=aws-permissions-required>AWS Permissions Required<a class=anchor href=#aws-permissions-required>#</a></h3><ul><li>S3: CreateBucket, PutBucketPolicy, PutBucketWebsite, PutPublicAccessBlock</li><li>CloudFront: CreateDistribution, UpdateDistribution, CreateInvalidation</li><li>Lambda: CreateFunction, PublishVersion, UpdateFunctionCode</li><li>IAM: CreateRole, AttachRolePolicy</li><li>CloudFront: CreateOriginAccessControl</li></ul><h2 id=maintenance>Maintenance<a class=anchor href=#maintenance>#</a></h2><h3 id=update-hugo-site-content>Update Hugo Site Content<a class=anchor href=#update-hugo-site-content>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd project-name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Edit content</span>
</span></span><span style=display:flex><span>vim content/docs/new-page.md
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Test locally</span>
</span></span><span style=display:flex><span>hugo server -D
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Deploy</span>
</span></span><span style=display:flex><span>git add .
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;Add new page&#34;</span>
</span></span><span style=display:flex><span>git push  <span style=color:#75715e># Auto-deploys in ~60 seconds</span></span></span></code></pre></div><h3 id=change-password>Change Password<a class=anchor href=#change-password>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd project-name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Edit Lambda function</span>
</span></span><span style=display:flex><span>vim lambda-auth.js
</span></span><span style=display:flex><span><span style=color:#75715e># Change authUser and authPass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Update Lambda</span>
</span></span><span style=display:flex><span>zip lambda-auth.zip lambda-auth.js
</span></span><span style=display:flex><span>aws lambda update-function-code <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --function-name project-name-basic-auth <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --zip-file fileb://lambda-auth.zip
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Publish new version</span>
</span></span><span style=display:flex><span>aws lambda publish-version <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --function-name project-name-basic-auth
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Update CloudFront with new version ARN</span>
</span></span><span style=display:flex><span><span style=color:#75715e># (See COMPLETE-SETUP-GUIDE.md for details)</span></span></span></code></pre></div><h3 id=update-hugo-theme>Update Hugo Theme<a class=anchor href=#update-hugo-theme>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd project-name/themes/hugo-book
</span></span><span style=display:flex><span>git pull origin main
</span></span><span style=display:flex><span>cd ../..
</span></span><span style=display:flex><span>git add themes/hugo-book
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;Update theme&#34;</span>
</span></span><span style=display:flex><span>git push</span></span></code></pre></div><h2 id=use-cases>Use Cases<a class=anchor href=#use-cases>#</a></h2><h3 id=1-product-documentation>1. Product Documentation<a class=anchor href=#1-product-documentation>#</a></h3><ul><li>Document product features and functionality</li><li>Customer-facing help center</li><li>Internal product specs</li></ul><h3 id=2-api-documentation>2. API Documentation<a class=anchor href=#2-api-documentation>#</a></h3><ul><li>REST API endpoints</li><li>Code examples</li><li>Authentication guides</li></ul><h3 id=3-business-planning>3. Business Planning<a class=anchor href=#3-business-planning>#</a></h3><ul><li>Strategic plans (like klm-plan)</li><li>Process documentation</li><li>Team wikis</li></ul><h3 id=4-engineering-wikis>4. Engineering Wikis<a class=anchor href=#4-engineering-wikis>#</a></h3><ul><li>Technical architecture</li><li>Development guides</li><li>Runbooks and procedures</li></ul><h3 id=5-marketing-content>5. Marketing Content<a class=anchor href=#5-marketing-content>#</a></h3><ul><li>Campaign planning</li><li>Brand guidelines</li><li>Content strategy</li></ul><h2 id=extending-the-automation>Extending the Automation<a class=anchor href=#extending-the-automation>#</a></h2><p>The Python script can be extended to:</p><ul><li>Support custom Hugo themes</li><li>Add custom domains automatically</li><li>Configure custom Lambda functions</li><li>Integrate with other services (Slack notifications, etc.)</li><li>Add monitoring and alerting</li></ul><p>Edit <code>/Users/mark/PycharmProjects/hugo-docs-template/deploy-hugo-docs.py</code> to customize.</p><h2 id=reference-documentation>Reference Documentation<a class=anchor href=#reference-documentation>#</a></h2><p><strong>In Template Directory</strong>:</p><ul><li><code>README.md</code> - Complete usage guide</li><li><code>USAGE-EXAMPLES.md</code> - Real-world examples</li><li><code>COMPLETE-SETUP-GUIDE.md</code> - Manual step-by-step process</li></ul><p><strong>In klm-plan</strong>:</p><ul><li><code>CLAUDE.md</code> - Project documentation</li><li><code>SECURITY-SETUP.md</code> - Security implementation</li><li><code>NAVIGATION-FIX.md</code> - Navigation fix details</li><li><code>PERMISSIONS-SETUP.md</code> - Claude Code permissions</li></ul><p><strong>External</strong>:</p><ul><li>Hugo: <a href=https://gohugo.io/documentation/>https://gohugo.io/documentation/</a></li><li>Hugo Book Theme: <a href=https://github.com/alex-shpak/hugo-book>https://github.com/alex-shpak/hugo-book</a></li><li>AWS CloudFront: <a href=https://docs.aws.amazon.com/cloudfront/>https://docs.aws.amazon.com/cloudfront/</a></li><li>Lambda@Edge: <a href=https://docs.aws.amazon.com/lambda/latest/dg/lambda-edge.html>https://docs.aws.amazon.com/lambda/latest/dg/lambda-edge.html</a></li></ul><h2 id=summary>Summary<a class=anchor href=#summary>#</a></h2><p>This automation system:</p><ul><li>✅ Reduces 2-3 hours of manual work to 1 command</li><li>✅ Eliminates configuration errors</li><li>✅ Creates production-ready, secure documentation sites</li><li>✅ Follows AWS security best practices</li><li>✅ Sets up complete CI/CD pipeline</li><li>✅ Costs ~$2/month per site (or $0 with free tier)</li><li>✅ Can deploy unlimited documentation sites</li><li>✅ Each site is completely independent</li></ul><p><strong>Perfect for</strong>: Any project that needs secure, professional documentation hosting with minimal operational overhead.</p><hr><p><strong>Created</strong>: 2026-01-03
<strong>Based on</strong>: klm-plan setup process
<strong>Location</strong>: <code>/Users/mark/PycharmProjects/hugo-docs-template/</code>
<strong>Purpose</strong>: Reusable automation for all future documentation sites</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#hugo-documentation-site-automation-system>Hugo Documentation Site Automation System</a><ul><li><a href=#overview>Overview</a></li><li><a href=#location>Location</a></li><li><a href=#quick-start>Quick Start</a><ul><li><a href=#deploy-a-new-documentation-site>Deploy a New Documentation Site</a></li></ul></li><li><a href=#what-it-does>What It Does</a><ul><li><a href=#phase-1-local-hugo-site>Phase 1: Local Hugo Site</a></li><li><a href=#phase-2-s3-bucket-setup>Phase 2: S3 Bucket Setup</a></li><li><a href=#phase-3-github-repository>Phase 3: GitHub Repository</a></li><li><a href=#phase-4-cloudfront-with-https>Phase 4: CloudFront with HTTPS</a></li><li><a href=#phase-5-lambdaedge-authentication>Phase 5: Lambda@Edge Authentication</a></li><li><a href=#phase-6-secure-s3-bucket>Phase 6: Secure S3 Bucket</a></li><li><a href=#phase-7-github-actions-workflow>Phase 7: GitHub Actions Workflow</a></li><li><a href=#phase-8-final-commit>Phase 8: Final Commit</a></li></ul></li><li><a href=#command-reference>Command Reference</a><ul><li><a href=#basic-deployment>Basic Deployment</a></li><li><a href=#with-custom-region>With Custom Region</a></li><li><a href=#with-github-organization>With GitHub Organization</a></li></ul></li><li><a href=#examples>Examples</a><ul><li><a href=#example-1-deploy-product-documentation>Example 1: Deploy Product Documentation</a></li><li><a href=#example-2-deploy-api-documentation>Example 2: Deploy API Documentation</a></li><li><a href=#example-3-deploy-marketing-wiki>Example 3: Deploy Marketing Wiki</a></li></ul></li><li><a href=#comparison-manual-vs-automated>Comparison: Manual vs Automated</a><ul><li><a href=#manual-process-what-we-did-for-klm-plan>Manual Process (What We Did for klm-plan)</a></li><li><a href=#automated-process-using-deploy-hugo-docspy>Automated Process (Using deploy-hugo-docs.py)</a></li></ul></li><li><a href=#architecture-created>Architecture Created</a></li><li><a href=#what-gets-created>What Gets Created</a><ul><li><a href=#aws-resources>AWS Resources</a></li><li><a href=#github-resources>GitHub Resources</a></li><li><a href=#local-files>Local Files</a></li></ul></li><li><a href=#cost-per-site>Cost per Site</a><ul><li><a href=#typical-usage-small-documentation-site>Typical Usage (Small Documentation Site)</a></li><li><a href=#free-tier-benefits-first-12-months>Free Tier Benefits (First 12 Months)</a></li></ul></li><li><a href=#prerequisites>Prerequisites</a><ul><li><a href=#required-tools>Required Tools</a></li><li><a href=#configuration>Configuration</a></li><li><a href=#aws-permissions-required>AWS Permissions Required</a></li></ul></li><li><a href=#maintenance>Maintenance</a><ul><li><a href=#update-hugo-site-content>Update Hugo Site Content</a></li><li><a href=#change-password>Change Password</a></li><li><a href=#update-hugo-theme>Update Hugo Theme</a></li></ul></li><li><a href=#use-cases>Use Cases</a><ul><li><a href=#1-product-documentation>1. Product Documentation</a></li><li><a href=#2-api-documentation>2. API Documentation</a></li><li><a href=#3-business-planning>3. Business Planning</a></li><li><a href=#4-engineering-wikis>4. Engineering Wikis</a></li><li><a href=#5-marketing-content>5. Marketing Content</a></li></ul></li><li><a href=#extending-the-automation>Extending the Automation</a></li><li><a href=#reference-documentation>Reference Documentation</a></li><li><a href=#summary>Summary</a></li></ul></li></ul></nav></div></aside></main></body></html>